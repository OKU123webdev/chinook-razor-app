@page
@model WebApp.Pages.Details

<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Details Page</title>
        <!-- Bootstrap -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
            integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    </head>

    <body style="padding: 2%;">
        <!-- HEADING -->
        <h1 class="display-5">Album Details</h1>

        <!-- RETURN TO INDEX -->
        <p><a href="/">Return to homepage</a></p>

        <!-- Link to Update table -->
        <a href="/Update?albumId=@Model.AlbumId">
            <button type="button" class="btn btn-outline-dark m-3">Update this table</button>
        </a>

        <!-- ........................ ALBUM DETAILS ................... -->
        <!-- Album title (Artist Name)  -->
        <h2 class="display-6">@Model.AlbumTitle (@Model.ArtistName)</h2>
        <!-- .................... TRACK DETAILS TABLE ...............  -->
        <table class="table table-info table-striped my-table mx-auto" border="1" style="text-align:center;">
            <!-- Table Headings -->
            <tr>
                <th>#</th>
                <th>Track Name</th>
                <th>Genre</th>
                <th>Composer</th>
            </tr>

            <!-- Check for tracks in album -->
            @if (Model.TrackDetail != null && Model.TrackDetail.Any())
            {
                int trackNumber = 1;
                @* Get track details form database *@
                @foreach (TrackDetails trackDetails in Model.TrackDetail)
                {
                    @* Table Rows *@
                    <tr>
                        <td>@trackNumber.</td>
                        <td>@trackDetails.TrackName</td>
                        <td>@trackDetails.GenreName</td>
                        <td>@trackDetails.Composer</td>
                    </tr>
                    @* Increment track number *@
                    trackNumber++;
                }
            }else{
                @*  No tracks found *@
                <p>No tracks avaliable form this album</p>
            }
            
        </table>

        <!-- Bootstrap -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
            crossorigin="anonymous"></script>
    </body>

</html>